import{z as A,U,V as S,W as Y,i as T,X as I,k as y,w as j,Y as F,Z as C,j as $,x as q,E as z,_ as Z,a0 as G,a1 as H,v as J,q as R,a2 as K,a3 as D,m as Q,a4 as V,a5 as W,g,s as M,a6 as X,a7 as P,a8 as ee,a9 as te,aa as se,Q as re,ab as ae,O as ne,ac as ie,ad as fe,u as ue,J as oe,ae as ce,af as le,ag as de,ah as he,ai as N,aj as L,ak as p}from"./B2JIgplP.js";class _e{anchor;#t=new Map;#s=new Map;#e=new Map;#r=new Set;#a=!0;constructor(t,s=!0){this.anchor=t,this.#a=s}#n=()=>{var t=A;if(this.#t.has(t)){var s=this.#t.get(t),e=this.#s.get(s);if(e)U(e),this.#r.delete(s);else{var a=this.#e.get(s);a&&(this.#s.set(s,a.effect),this.#e.delete(s),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),e=a.effect)}for(const[n,f]of this.#t){if(this.#t.delete(n),n===t)break;const i=this.#e.get(f);i&&(S(i.effect),this.#e.delete(f))}for(const[n,f]of this.#s){if(n===s||this.#r.has(n))continue;const i=()=>{if(Array.from(this.#t.values()).includes(n)){var c=document.createDocumentFragment();F(f,c),c.append(T()),this.#e.set(n,{effect:f,fragment:c})}else S(f);this.#r.delete(n),this.#s.delete(n)};this.#a||!e?(this.#r.add(n),Y(f,i,!1)):i()}}};#i=t=>{this.#t.delete(t);const s=Array.from(this.#t.values());for(const[e,a]of this.#e)s.includes(e)||(S(a.effect),this.#e.delete(e))};ensure(t,s){var e=A,a=C();if(s&&!this.#s.has(t)&&!this.#e.has(t))if(a){var n=document.createDocumentFragment(),f=T();n.append(f),this.#e.set(t,{effect:I(()=>s(f)),fragment:n})}else this.#s.set(t,I(()=>s(this.anchor)));if(this.#t.set(e,t),a){for(const[i,u]of this.#s)i===t?e.skipped_effects.delete(u):e.skipped_effects.add(u);for(const[i,u]of this.#e)i===t?e.skipped_effects.delete(u.effect):e.skipped_effects.add(u.effect);e.oncommit(this.#n),e.ondiscard(this.#i)}else y&&(this.anchor=j),this.#n()}}function ge(r,t,s=!1){y&&q();var e=new _e(r),a=s?z:0;function n(f,i){if(y){const c=Z(r)===G;if(f===c){var u=H();J(u),e.anchor=u,R(!1),e.ensure(f,i),R(!0);return}}e.ensure(f,i)}$(()=>{var f=!1;t((i,u=!0)=>{f=!0,n(u,i)}),f||n(!1,null)},a)}let b=!1,w=Symbol();function me(r,t,s){const e=s[t]??={store:null,source:Q(void 0),unsubscribe:D};if(e.store!==r&&!(w in s))if(e.unsubscribe(),e.store=r??null,r==null)e.source.v=void 0,e.unsubscribe=D;else{var a=!0;e.unsubscribe=V(r,n=>{a?e.source.v=n:M(e.source,n)}),a=!1}return r&&w in s?W(r):g(e.source)}function Se(){const r={};function t(){K(()=>{for(var s in r)r[s].unsubscribe();X(r,w,{enumerable:!1,value:!0})})}return[r,t]}function pe(r){var t=b;try{return b=!1,[r(),b]}finally{b=t}}const ve={get(r,t){let s=r.props.length;for(;s--;){let e=r.props[s];if(p(e)&&(e=e()),typeof e=="object"&&e!==null&&t in e)return e[t]}},set(r,t,s){let e=r.props.length;for(;e--;){let a=r.props[e];p(a)&&(a=a());const n=P(a,t);if(n&&n.set)return n.set(s),!0}return!1},getOwnPropertyDescriptor(r,t){let s=r.props.length;for(;s--;){let e=r.props[s];if(p(e)&&(e=e()),typeof e=="object"&&e!==null&&t in e){const a=P(e,t);return a&&!a.configurable&&(a.configurable=!0),a}}},has(r,t){if(t===N||t===L)return!1;for(let s of r.props)if(p(s)&&(s=s()),s!=null&&t in s)return!0;return!1},ownKeys(r){const t=[];for(let s of r.props)if(p(s)&&(s=s()),!!s){for(const e in s)t.includes(e)||t.push(e);for(const e of Object.getOwnPropertySymbols(s))t.includes(e)||t.push(e)}return t}};function ye(...r){return new Proxy({props:r},ve)}function Pe(r,t,s,e){var a=!oe||(s&ce)!==0,n=(s&fe)!==0,f=(s&de)!==0,i=e,u=!0,c=()=>(u&&(u=!1,i=f?ue(e):e),i),d;if(n){var k=N in r||L in r;d=P(r,t)?.set??(k&&t in r?o=>r[t]=o:void 0)}var h,E=!1;n?[h,E]=pe(()=>r[t]):h=r[t],h===void 0&&e!==void 0&&(h=c(),d&&(a&&ee(),d(h)));var l;if(a?l=()=>{var o=r[t];return o===void 0?c():(u=!0,o)}:l=()=>{var o=r[t];return o!==void 0&&(i=void 0),o===void 0?i:o},a&&(s&te)===0)return l;if(d){var x=r.$$legacy;return(function(o,v){return arguments.length>0?((!a||!v||x||E)&&d(v?l():o),o):l()})}var m=!1,_=((s&le)!==0?ne:ie)(()=>(m=!1,l()));n&&g(_);var B=re;return(function(o,v){if(arguments.length>0){const O=v?g(_):a&&n?se(o):o;return M(_,O),m=!0,i!==void 0&&(i=O),o}return he&&m||(B.f&ae)!==0?_.v:g(_)})}export{_e as B,me as a,ye as b,ge as i,Pe as p,Se as s};
